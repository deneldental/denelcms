(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,890538,e=>{"use strict";var a=e.i(843476),t=e.i(271645),s=e.i(75830),n=e.i(820783),r=e.i(981140),l=e.i(369340);e.i(174080);var i=Symbol("radix.slottable");function c(e){return t.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===i}var d=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{var r,l;let i,d,o,u=(l=r=`Primitive.${s}`,(i=t.forwardRef((e,a)=>{let{children:s,...r}=e;if(t.isValidElement(s)){var l;let e,i,c=(l=s,(i=(e=Object.getOwnPropertyDescriptor(l.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(i=(e=Object.getOwnPropertyDescriptor(l,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref),d=function(e,a){let t={...a};for(let s in a){let n=e[s],r=a[s];/^on[A-Z]/.test(s)?n&&r?t[s]=(...e)=>{let a=r(...e);return n(...e),a}:n&&(t[s]=n):"style"===s?t[s]={...n,...r}:"className"===s&&(t[s]=[n,r].filter(Boolean).join(" "))}return{...e,...t}}(r,s.props);return s.type!==t.Fragment&&(d.ref=a?(0,n.composeRefs)(a,c):c),t.cloneElement(s,d)}return t.Children.count(s)>1?t.Children.only(null):null})).displayName=`${l}.SlotClone`,d=i,(o=t.forwardRef((e,s)=>{let{children:n,...r}=e,l=t.Children.toArray(n),i=l.find(c);if(i){let e=i.props.children,n=l.map(a=>a!==i?a:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,a.jsx)(d,{...r,ref:s,children:t.isValidElement(e)?t.cloneElement(e,void 0,n):null})}return(0,a.jsx)(d,{...r,ref:s,children:n})})).displayName=`${r}.Slot`,o),m=t.forwardRef((e,t)=>{let{asChild:n,...r}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(n?u:s,{...r,ref:t})});return m.displayName=`Primitive.${s}`,{...e,[s]:m}},{}),o=e.i(934620),u=Symbol("radix.slottable");function m(e){return t.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===u}var p=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{var r,l;let i,c,d,o=(l=r=`Primitive.${s}`,(i=t.forwardRef((e,a)=>{let{children:s,...r}=e;if(t.isValidElement(s)){var l;let e,i,c=(l=s,(i=(e=Object.getOwnPropertyDescriptor(l.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(i=(e=Object.getOwnPropertyDescriptor(l,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref),d=function(e,a){let t={...a};for(let s in a){let n=e[s],r=a[s];/^on[A-Z]/.test(s)?n&&r?t[s]=(...e)=>{let a=r(...e);return n(...e),a}:n&&(t[s]=n):"style"===s?t[s]={...n,...r}:"className"===s&&(t[s]=[n,r].filter(Boolean).join(" "))}return{...e,...t}}(r,s.props);return s.type!==t.Fragment&&(d.ref=a?(0,n.composeRefs)(a,c):c),t.cloneElement(s,d)}return t.Children.count(s)>1?t.Children.only(null):null})).displayName=`${l}.SlotClone`,c=i,(d=t.forwardRef((e,s)=>{let{children:n,...r}=e,l=t.Children.toArray(n),i=l.find(m);if(i){let e=i.props.children,n=l.map(a=>a!==i?a:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,a.jsx)(c,{...r,ref:s,children:t.isValidElement(e)?t.cloneElement(e,void 0,n):null})}return(0,a.jsx)(c,{...r,ref:s,children:n})})).displayName=`${r}.Slot`,d),u=t.forwardRef((e,t)=>{let{asChild:n,...r}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(n?o:s,{...r,ref:t})});return u.displayName=`Primitive.${s}`,{...e,[s]:u}},{}),h=e.i(296626),x=e.i(610772),f="Collapsible",[j,y]=function(e,s=[]){let n=[],r=()=>{let a=n.map(e=>t.createContext(e));return function(s){let n=s?.[e]||a;return t.useMemo(()=>({[`__scope${e}`]:{...s,[e]:n}}),[s,n])}};return r.scopeName=e,[function(s,r){let l=t.createContext(r),i=n.length;n=[...n,r];let c=s=>{let{scope:n,children:r,...c}=s,d=n?.[e]?.[i]||l,o=t.useMemo(()=>c,Object.values(c));return(0,a.jsx)(d.Provider,{value:o,children:r})};return c.displayName=s+"Provider",[c,function(a,n){let c=n?.[e]?.[i]||l,d=t.useContext(c);if(d)return d;if(void 0!==r)return r;throw Error(`\`${a}\` must be used within \`${s}\``)}]},function(...e){let a=e[0];if(1===e.length)return a;let s=()=>{let s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let n=s.reduce((a,{useScope:t,scopeName:s})=>{let n=t(e)[`__scope${s}`];return{...a,...n}},{});return t.useMemo(()=>({[`__scope${a.scopeName}`]:n}),[n])}};return s.scopeName=a.scopeName,s}(r,...s)]}(f),[g,v]=j(f),b=t.forwardRef((e,s)=>{let{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:c,onOpenChange:d,...o}=e,[u,m]=(0,l.useControllableState)({prop:r,defaultProp:i??!1,onChange:d,caller:f});return(0,a.jsx)(g,{scope:n,disabled:c,contentId:(0,x.useId)(),open:u,onOpenToggle:t.useCallback(()=>m(e=>!e),[m]),children:(0,a.jsx)(p.div,{"data-state":A(u),"data-disabled":c?"":void 0,...o,ref:s})})});b.displayName=f;var C="CollapsibleTrigger",N=t.forwardRef((e,t)=>{let{__scopeCollapsible:s,...n}=e,l=v(C,s);return(0,a.jsx)(p.button,{type:"button","aria-controls":l.contentId,"aria-expanded":l.open||!1,"data-state":A(l.open),"data-disabled":l.disabled?"":void 0,disabled:l.disabled,...n,ref:t,onClick:(0,r.composeEventHandlers)(e.onClick,l.onOpenToggle)})});N.displayName=C;var S="CollapsibleContent",T=t.forwardRef((e,t)=>{let{forceMount:s,...n}=e,r=v(S,e.__scopeCollapsible);return(0,a.jsx)(h.Presence,{present:s||r.open,children:({present:e})=>(0,a.jsx)(w,{...n,ref:t,present:e})})});T.displayName=S;var w=t.forwardRef((e,s)=>{let{__scopeCollapsible:r,present:l,children:i,...c}=e,d=v(S,r),[u,m]=t.useState(l),h=t.useRef(null),x=(0,n.useComposedRefs)(s,h),f=t.useRef(0),j=f.current,y=t.useRef(0),g=y.current,b=d.open||u,C=t.useRef(b),N=t.useRef(void 0);return t.useEffect(()=>{let e=requestAnimationFrame(()=>C.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,o.useLayoutEffect)(()=>{let e=h.current;if(e){N.current=N.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let a=e.getBoundingClientRect();f.current=a.height,y.current=a.width,C.current||(e.style.transitionDuration=N.current.transitionDuration,e.style.animationName=N.current.animationName),m(l)}},[d.open,l]),(0,a.jsx)(p.div,{"data-state":A(d.open),"data-disabled":d.disabled?"":void 0,id:d.contentId,hidden:!b,...c,ref:x,style:{"--radix-collapsible-content-height":j?`${j}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:b&&i})});function A(e){return e?"open":"closed"}var D=e.i(586318),R="Accordion",P=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[F,U,L]=(0,s.createCollection)(R),[k,B]=function(e,s=[]){let n=[],r=()=>{let a=n.map(e=>t.createContext(e));return function(s){let n=s?.[e]||a;return t.useMemo(()=>({[`__scope${e}`]:{...s,[e]:n}}),[s,n])}};return r.scopeName=e,[function(s,r){let l=t.createContext(r),i=n.length;n=[...n,r];let c=s=>{let{scope:n,children:r,...c}=s,d=n?.[e]?.[i]||l,o=t.useMemo(()=>c,Object.values(c));return(0,a.jsx)(d.Provider,{value:o,children:r})};return c.displayName=s+"Provider",[c,function(a,n){let c=n?.[e]?.[i]||l,d=t.useContext(c);if(d)return d;if(void 0!==r)return r;throw Error(`\`${a}\` must be used within \`${s}\``)}]},function(...e){let a=e[0];if(1===e.length)return a;let s=()=>{let s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let n=s.reduce((a,{useScope:t,scopeName:s})=>{let n=t(e)[`__scope${s}`];return{...a,...n}},{});return t.useMemo(()=>({[`__scope${a.scopeName}`]:n}),[n])}};return s.scopeName=a.scopeName,s}(r,...s)]}(R,[L,y]),I=y(),H=t.default.forwardRef((e,t)=>{let{type:s,...n}=e;return(0,a.jsx)(F.Provider,{scope:e.__scopeAccordion,children:"multiple"===s?(0,a.jsx)(z,{...n,ref:t}):(0,a.jsx)(q,{...n,ref:t})})});H.displayName=R;var[M,E]=k(R),[O,_]=k(R,{collapsible:!1}),q=t.default.forwardRef((e,s)=>{let{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:c=!1,...d}=e,[o,u]=(0,l.useControllableState)({prop:n,defaultProp:r??"",onChange:i,caller:R});return(0,a.jsx)(M,{scope:e.__scopeAccordion,value:t.default.useMemo(()=>o?[o]:[],[o]),onItemOpen:u,onItemClose:t.default.useCallback(()=>c&&u(""),[c,u]),children:(0,a.jsx)(O,{scope:e.__scopeAccordion,collapsible:c,children:(0,a.jsx)(W,{...d,ref:s})})})}),z=t.default.forwardRef((e,s)=>{let{value:n,defaultValue:r,onValueChange:i=()=>{},...c}=e,[d,o]=(0,l.useControllableState)({prop:n,defaultProp:r??[],onChange:i,caller:R}),u=t.default.useCallback(e=>o((a=[])=>[...a,e]),[o]),m=t.default.useCallback(e=>o((a=[])=>a.filter(a=>a!==e)),[o]);return(0,a.jsx)(M,{scope:e.__scopeAccordion,value:d,onItemOpen:u,onItemClose:m,children:(0,a.jsx)(O,{scope:e.__scopeAccordion,collapsible:!0,children:(0,a.jsx)(W,{...c,ref:s})})})}),[$,V]=k(R),W=t.default.forwardRef((e,s)=>{let{__scopeAccordion:l,disabled:i,dir:c,orientation:o="vertical",...u}=e,m=t.default.useRef(null),p=(0,n.useComposedRefs)(m,s),h=U(l),x="ltr"===(0,D.useDirection)(c),f=(0,r.composeEventHandlers)(e.onKeyDown,e=>{if(!P.includes(e.key))return;let a=e.target,t=h().filter(e=>!e.ref.current?.disabled),s=t.findIndex(e=>e.ref.current===a),n=t.length;if(-1===s)return;e.preventDefault();let r=s,l=n-1,i=()=>{(r=s+1)>l&&(r=0)},c=()=>{(r=s-1)<0&&(r=l)};switch(e.key){case"Home":r=0;break;case"End":r=l;break;case"ArrowRight":"horizontal"===o&&(x?i():c());break;case"ArrowDown":"vertical"===o&&i();break;case"ArrowLeft":"horizontal"===o&&(x?c():i());break;case"ArrowUp":"vertical"===o&&c()}let d=r%n;t[d].ref.current?.focus()});return(0,a.jsx)($,{scope:l,disabled:i,direction:c,orientation:o,children:(0,a.jsx)(F.Slot,{scope:l,children:(0,a.jsx)(d.div,{...u,"data-orientation":o,ref:p,onKeyDown:i?void 0:f})})})}),G="AccordionItem",[K,Y]=k(G),Z=t.default.forwardRef((e,t)=>{let{__scopeAccordion:s,value:n,...r}=e,l=V(G,s),i=E(G,s),c=I(s),d=(0,x.useId)(),o=n&&i.value.includes(n)||!1,u=l.disabled||e.disabled;return(0,a.jsx)(K,{scope:s,open:o,disabled:u,triggerId:d,children:(0,a.jsx)(b,{"data-orientation":l.orientation,"data-state":es(o),...c,...r,ref:t,disabled:u,open:o,onOpenChange:e=>{e?i.onItemOpen(n):i.onItemClose(n)}})})});Z.displayName=G;var J="AccordionHeader",Q=t.default.forwardRef((e,t)=>{let{__scopeAccordion:s,...n}=e,r=V(R,s),l=Y(J,s);return(0,a.jsx)(d.h3,{"data-orientation":r.orientation,"data-state":es(l.open),"data-disabled":l.disabled?"":void 0,...n,ref:t})});Q.displayName=J;var X="AccordionTrigger",ee=t.default.forwardRef((e,t)=>{let{__scopeAccordion:s,...n}=e,r=V(R,s),l=Y(X,s),i=_(X,s),c=I(s);return(0,a.jsx)(F.ItemSlot,{scope:s,children:(0,a.jsx)(N,{"aria-disabled":l.open&&!i.collapsible||void 0,"data-orientation":r.orientation,id:l.triggerId,...c,...n,ref:t})})});ee.displayName=X;var ea="AccordionContent",et=t.default.forwardRef((e,t)=>{let{__scopeAccordion:s,...n}=e,r=V(R,s),l=Y(ea,s),i=I(s);return(0,a.jsx)(T,{role:"region","aria-labelledby":l.triggerId,"data-orientation":r.orientation,...i,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});function es(e){return e?"open":"closed"}et.displayName=ea;var en=e.i(664659),er=e.i(647163);let el=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)(Z,{ref:s,className:(0,er.cn)("border-b",e),...t}));el.displayName="AccordionItem";let ei=t.forwardRef(({className:e,children:t,...s},n)=>(0,a.jsx)(Q,{className:"flex",children:(0,a.jsxs)(ee,{ref:n,className:(0,er.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...s,children:[t,(0,a.jsx)(en.ChevronDown,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));ei.displayName=ee.displayName;let ec=t.forwardRef(({className:e,children:t,...s},n)=>(0,a.jsx)(et,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...s,children:(0,a.jsx)("div",{className:(0,er.cn)("pb-4 pt-0",e),children:t})}));ec.displayName=et.displayName,e.s(["Accordion",()=>H,"AccordionContent",()=>ec,"AccordionItem",()=>el,"AccordionTrigger",()=>ei],890538)},93353,e=>{"use strict";var a=e.i(843476),t=e.i(271645),s=e.i(970065),n=e.i(167881),r=e.i(107233),l=e.i(788699),i=e.i(727612),c=e.i(497140),c=c,d=e.i(846696),o=e.i(968806),u=e.i(95187);let m=(0,u.createServerReference)("40bc32f2d4aedab29b2c1939900d29de3cd343af15",u.callServer,void 0,u.findSourceMapURL,"deletePaymentPlanTemplate");var p=e.i(630374),h=e.i(23750),x=e.i(10708),f=e.i(184762),j=e.i(62870),y=e.i(625959),g=e.i(531278);let v=(0,u.createServerReference)("406efbad4d57ce107cde0bd69f045171c43ab4b19e",u.callServer,void 0,u.findSourceMapURL,"createPaymentPlanTemplate"),b=(0,u.createServerReference)("60be47903ba5f6407eb98b94b222c84570d22c964b",u.callServer,void 0,u.findSourceMapURL,"updatePaymentPlanTemplate");function C({open:e,onOpenChange:s,template:r,onSuccess:l}){let[i,c]=(0,t.useState)(!1),[o,u]=(0,t.useState)({name:"",totalAmount:"",amountPerInstallment:"",paymentFrequency:"monthly",isDefault:!1,isActive:!0,description:""});(0,t.useEffect)(()=>{r?u({name:r.name,totalAmount:(r.totalAmount/100).toString(),amountPerInstallment:(r.amountPerInstallment/100).toString(),paymentFrequency:r.paymentFrequency,isDefault:r.isDefault,isActive:r.isActive,description:r.description||""}):u({name:"",totalAmount:"",amountPerInstallment:"",paymentFrequency:"monthly",isDefault:!1,isActive:!0,description:""})},[r,e]);let m=async e=>{e.preventDefault(),c(!0);try{let e;if(!o.name||!o.totalAmount||!o.amountPerInstallment){d.toast.error("Please fill in all required fields"),c(!1);return}let a=Math.round(100*parseFloat(o.totalAmount)),t=Math.round(100*parseFloat(o.amountPerInstallment));if(a<=0||t<=0){d.toast.error("Amounts must be greater than zero"),c(!1);return}if(t>a){d.toast.error("Amount per installment cannot be greater than total amount"),c(!1);return}let n={name:o.name,totalAmount:a,amountPerInstallment:t,paymentFrequency:o.paymentFrequency,isDefault:o.isDefault,isActive:o.isActive,description:o.description||void 0};(e=r?await b(r.id,n):await v(n)).success?(d.toast.success(r?"Template updated successfully":"Template created successfully"),s(!1),l?.()):d.toast.error(e.error||"Failed to save template")}catch{d.toast.error("An error occurred while saving the template")}finally{c(!1)}};return(0,a.jsx)(p.Dialog,{open:e,onOpenChange:s,children:(0,a.jsx)(p.DialogContent,{className:"sm:max-w-[500px]",children:(0,a.jsxs)("form",{onSubmit:m,children:[(0,a.jsxs)(p.DialogHeader,{children:[(0,a.jsx)(p.DialogTitle,{children:r?"Edit Payment Plan Template":"Create Payment Plan Template"}),(0,a.jsx)(p.DialogDescription,{children:r?"Update the payment plan template details.":"Create a new payment plan template that can be assigned to patients."})]}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x.Label,{htmlFor:"name",children:"Template Name *"}),(0,a.jsx)(h.Input,{id:"name",value:o.name,onChange:e=>u({...o,name:e.target.value}),placeholder:"e.g., Standard Ortho Plan",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x.Label,{htmlFor:"totalAmount",children:"Total Amount (GHS) *"}),(0,a.jsx)(h.Input,{id:"totalAmount",type:"number",step:"0.01",min:"0",value:o.totalAmount,onChange:e=>u({...o,totalAmount:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x.Label,{htmlFor:"amountPerInstallment",children:"Amount per Installment (GHS) *"}),(0,a.jsx)(h.Input,{id:"amountPerInstallment",type:"number",step:"0.01",min:"0",value:o.amountPerInstallment,onChange:e=>u({...o,amountPerInstallment:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x.Label,{htmlFor:"paymentFrequency",children:"Payment Frequency *"}),(0,a.jsxs)(j.Select,{value:o.paymentFrequency,onValueChange:e=>u({...o,paymentFrequency:e}),required:!0,children:[(0,a.jsx)(j.SelectTrigger,{children:(0,a.jsx)(j.SelectValue,{})}),(0,a.jsxs)(j.SelectContent,{children:[(0,a.jsx)(j.SelectItem,{value:"weekly",children:"Weekly"}),(0,a.jsx)(j.SelectItem,{value:"biweekly",children:"Biweekly"}),(0,a.jsx)(j.SelectItem,{value:"monthly",children:"Monthly"}),(0,a.jsx)(j.SelectItem,{value:"custom",children:"Custom"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x.Label,{htmlFor:"description",children:"Description (Optional)"}),(0,a.jsx)(f.Textarea,{id:"description",value:o.description,onChange:e=>u({...o,description:e.target.value}),placeholder:"Additional notes about this template"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(y.Checkbox,{id:"isDefault",checked:o.isDefault,onCheckedChange:e=>u({...o,isDefault:!0===e})}),(0,a.jsx)(x.Label,{htmlFor:"isDefault",className:"cursor-pointer",children:"Set as default template"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(y.Checkbox,{id:"isActive",checked:o.isActive,onCheckedChange:e=>u({...o,isActive:!0===e})}),(0,a.jsx)(x.Label,{htmlFor:"isActive",className:"cursor-pointer",children:"Active (available for assignment)"})]})]}),(0,a.jsxs)(p.DialogFooter,{children:[(0,a.jsx)(n.Button,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:i,children:"Cancel"}),(0,a.jsxs)(n.Button,{type:"submit",disabled:i,children:[i&&(0,a.jsx)(g.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),r?"Update":"Create"]})]})]})})})}var N=e.i(994179),S=e.i(947627),T=e.i(133308);function w(){let[e,u]=(0,t.useState)([]),[p,h]=(0,t.useState)(!0),[x,f]=(0,t.useState)(!1),[j,y]=(0,t.useState)(null),[g,v]=(0,t.useState)(!1),[b,w]=(0,t.useState)(null),A=async()=>{h(!0);let e=await (0,o.getPaymentPlanTemplates)();"success"in e&&e.data?u(e.data):d.toast.error(e.error||"Failed to load payment plan templates"),h(!1)};(0,t.useEffect)(()=>{let e=!0;return(async()=>{let a=await (0,o.getPaymentPlanTemplates)();e&&("success"in a&&a.data?u(a.data):d.toast.error(a.error||"Failed to load payment plan templates"),h(!1))})(),()=>{e=!1}},[]);let D=async()=>{if(!b)return;let e=await m(b.id);e.success?(d.toast.success("Payment plan template deleted successfully"),A(),v(!1),w(null)):d.toast.error(e.error||"Failed to delete payment plan template")},R=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"GHS"}).format(e/100);return(0,a.jsxs)(s.Card,{children:[(0,a.jsx)(s.CardHeader,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(s.CardTitle,{children:"Payment Plan Templates"}),(0,a.jsx)(s.CardDescription,{children:"Create and manage payment plan templates. Set a default template to be used for new ortho patients."})]}),(0,a.jsxs)(n.Button,{onClick:()=>{y(null),f(!0)},children:[(0,a.jsx)(r.Plus,{className:"mr-2 h-4 w-4"}),"Create Template"]})]})}),(0,a.jsx)(s.CardContent,{children:p?(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading templates..."})}):0===e.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:"No payment plan templates found."}),(0,a.jsxs)(n.Button,{onClick:()=>{y(null),f(!0)},children:[(0,a.jsx)(r.Plus,{className:"mr-2 h-4 w-4"}),"Create Your First Template"]})]}):(0,a.jsxs)(S.Table,{children:[(0,a.jsx)(S.TableHeader,{children:(0,a.jsxs)(S.TableRow,{children:[(0,a.jsx)(S.TableHead,{children:"Name"}),(0,a.jsx)(S.TableHead,{children:"Total Amount"}),(0,a.jsx)(S.TableHead,{children:"Amount per Installment"}),(0,a.jsx)(S.TableHead,{children:"Frequency"}),(0,a.jsx)(S.TableHead,{children:"Status"}),(0,a.jsx)(S.TableHead,{children:"Default"}),(0,a.jsx)(S.TableHead,{className:"text-right",children:"Actions"})]})}),(0,a.jsx)(S.TableBody,{children:e.map(e=>(0,a.jsxs)(S.TableRow,{children:[(0,a.jsx)(S.TableCell,{className:"font-medium",children:e.name}),(0,a.jsx)(S.TableCell,{children:R(e.totalAmount)}),(0,a.jsx)(S.TableCell,{children:R(e.amountPerInstallment)}),(0,a.jsx)(S.TableCell,{className:"capitalize",children:e.paymentFrequency}),(0,a.jsx)(S.TableCell,{children:(0,a.jsx)(N.Badge,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"})}),(0,a.jsx)(S.TableCell,{children:e.isDefault&&(0,a.jsxs)(N.Badge,{variant:"outline",className:"gap-1",children:[(0,a.jsx)(c.default,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),"Default"]})}),(0,a.jsx)(S.TableCell,{className:"text-right",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>{y(e),f(!0)},children:(0,a.jsx)(l.Pencil,{className:"h-4 w-4"})}),(0,a.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>{w(e),v(!0)},children:(0,a.jsx)(i.Trash2,{className:"h-4 w-4 text-destructive"})})]})})]},e.id))})]})}),(0,a.jsx)(C,{open:x,onOpenChange:f,template:j,onSuccess:A}),(0,a.jsx)(T.DeleteConfirmationDialog,{open:g,onOpenChange:v,onConfirm:D,title:"Delete Payment Plan Template",description:"Are you sure you want to delete this payment plan template? This action cannot be undone.",itemName:b?.name})]})}e.s(["PaymentPlanTemplatesSection",()=>w],93353)},775860,e=>{"use strict";var a=e.i(843476),t=e.i(271645),s=e.i(970065),n=e.i(167881),r=e.i(23750),l=e.i(10708),i=e.i(107233),c=e.i(788699),d=e.i(727612),o=e.i(846696),u=e.i(95187);let m=(0,u.createServerReference)("00b123480b68c02383f8533cd46e19b1ca8d8350f2",u.callServer,void 0,u.findSourceMapURL,"getAllUnits"),p=(0,u.createServerReference)("40da79078d8a5393b723d52b015aee7d23cddaf1a0",u.callServer,void 0,u.findSourceMapURL,"createUnit"),h=(0,u.createServerReference)("6056a6816eca7712fcd3d422c224ee2392cbfc52de",u.callServer,void 0,u.findSourceMapURL,"updateUnit"),x=(0,u.createServerReference)("40d162ec47691df31cb8f3fa789a5a4051faba99fc",u.callServer,void 0,u.findSourceMapURL,"deleteUnit");var f=e.i(994179),j=e.i(947627),y=e.i(133308),g=e.i(630374);function v(){let[e,u]=(0,t.useState)([]),[v,b]=(0,t.useState)(!0),[C,N]=(0,t.useState)(!1),[S,T]=(0,t.useState)(null),[w,A]=(0,t.useState)(!1),[D,R]=(0,t.useState)(null),[P,F]=(0,t.useState)({name:"",displayName:""}),U=async()=>{b(!0);let e=await m();"success"in e&&e.data?u(e.data):o.toast.error(e.error||"Failed to load units"),b(!1)};(0,t.useEffect)(()=>{let e=!0;return(async()=>{let a=await m();e&&("success"in a&&a.data?u(a.data):o.toast.error(a.error||"Failed to load units"),b(!1))})(),()=>{e=!1}},[]);let L=async()=>{if(!P.name.trim())return void o.toast.error("Unit name is required");let e=S?await h(S.id,P):await p(P);e.success?(o.toast.success(S?"Unit updated successfully":"Unit created successfully"),U(),N(!1),T(null),F({name:"",displayName:""})):o.toast.error(e.error||"Failed to save unit")},k=async()=>{if(!D)return;let e=await x(D.id);e.success?(o.toast.success("Unit deleted successfully"),U(),A(!1),R(null)):o.toast.error(e.error||"Failed to delete unit")},B=()=>{T(null),F({name:"",displayName:""}),N(!0)};return(0,a.jsxs)(s.Card,{children:[(0,a.jsx)(s.CardHeader,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(s.CardTitle,{children:"Units"}),(0,a.jsx)(s.CardDescription,{children:"Manage units of measurement used in inventory and products."})]}),(0,a.jsxs)(n.Button,{onClick:B,children:[(0,a.jsx)(i.Plus,{className:"mr-2 h-4 w-4"}),"Add Unit"]})]})}),(0,a.jsx)(s.CardContent,{children:v?(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading units..."})}):0===e.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:"No units found."}),(0,a.jsxs)(n.Button,{onClick:B,children:[(0,a.jsx)(i.Plus,{className:"mr-2 h-4 w-4"}),"Add Your First Unit"]})]}):(0,a.jsxs)(j.Table,{children:[(0,a.jsx)(j.TableHeader,{children:(0,a.jsxs)(j.TableRow,{children:[(0,a.jsx)(j.TableHead,{children:"Name"}),(0,a.jsx)(j.TableHead,{children:"Display Name"}),(0,a.jsx)(j.TableHead,{children:"Status"}),(0,a.jsx)(j.TableHead,{className:"text-right",children:"Actions"})]})}),(0,a.jsx)(j.TableBody,{children:e.map(e=>(0,a.jsxs)(j.TableRow,{children:[(0,a.jsx)(j.TableCell,{className:"font-medium uppercase",children:e.name}),(0,a.jsx)(j.TableCell,{children:e.displayName||e.name}),(0,a.jsx)(j.TableCell,{children:(0,a.jsx)(f.Badge,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"})}),(0,a.jsx)(j.TableCell,{className:"text-right",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>{T(e),F({name:e.name,displayName:e.displayName||""}),N(!0)},children:(0,a.jsx)(c.Pencil,{className:"h-4 w-4"})}),(0,a.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>{R(e),A(!0)},children:(0,a.jsx)(d.Trash2,{className:"h-4 w-4 text-destructive"})})]})})]},e.id))})]})}),(0,a.jsx)(g.Dialog,{open:C,onOpenChange:N,children:(0,a.jsxs)(g.DialogContent,{children:[(0,a.jsxs)(g.DialogHeader,{children:[(0,a.jsx)(g.DialogTitle,{children:S?"Edit Unit":"Add Unit"}),(0,a.jsx)(g.DialogDescription,{children:S?"Update unit details":"Add a new unit of measurement"})]}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"unit-name",children:"Unit Name *"}),(0,a.jsx)(r.Input,{id:"unit-name",placeholder:"e.g., pcs, kg, liter",value:P.name,onChange:e=>F({...P,name:e.target.value}),required:!0}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Short name (will be displayed in uppercase)"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"unit-display",children:"Display Name"}),(0,a.jsx)(r.Input,{id:"unit-display",placeholder:"e.g., Pieces (pcs)",value:P.displayName,onChange:e=>F({...P,displayName:e.target.value})}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Optional friendly display name"})]})]}),(0,a.jsxs)(g.DialogFooter,{children:[(0,a.jsx)(n.Button,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),(0,a.jsx)(n.Button,{onClick:L,children:S?"Update":"Create"})]})]})}),(0,a.jsx)(y.DeleteConfirmationDialog,{open:w,onOpenChange:A,onConfirm:k,title:"Delete Unit",description:"Are you sure you want to delete this unit? This action cannot be undone.",itemName:D?.name})]})}e.s(["UnitsSection",()=>v],775860)},282078,e=>{"use strict";var a=e.i(843476),t=e.i(271645),s=e.i(970065),n=e.i(167881),r=e.i(23750),l=e.i(10708),i=e.i(107233),c=e.i(788699),d=e.i(727612),o=e.i(846696),u=e.i(95187);let m=(0,u.createServerReference)("000f58f9c3845468fe8a19fb18d7429e8f89f1c7ef",u.callServer,void 0,u.findSourceMapURL,"getAllCategories"),p=(0,u.createServerReference)("405160627a864522f666c677a00e2bae3c13d1b0d0",u.callServer,void 0,u.findSourceMapURL,"createCategory"),h=(0,u.createServerReference)("60d11fac4d4e7dbd1c8bf855f4cac8ff0cbcc44fce",u.callServer,void 0,u.findSourceMapURL,"updateCategory"),x=(0,u.createServerReference)("40c1f6709bacf6fa9a19021c6f285b6a2084c0ee31",u.callServer,void 0,u.findSourceMapURL,"deleteCategory");var f=e.i(994179),j=e.i(947627),y=e.i(133308),g=e.i(630374);function v(){let[e,u]=(0,t.useState)([]),[v,b]=(0,t.useState)(!0),[C,N]=(0,t.useState)(!1),[S,T]=(0,t.useState)(null),[w,A]=(0,t.useState)(!1),[D,R]=(0,t.useState)(null),[P,F]=(0,t.useState)({name:""}),U=async()=>{b(!0);let e=await m();"success"in e&&e.data?u(e.data):o.toast.error(e.error||"Failed to load categories"),b(!1)};(0,t.useEffect)(()=>{let e=!0;return(async()=>{let a=await m();e&&("success"in a&&a.data?u(a.data):o.toast.error(a.error||"Failed to load categories"),b(!1))})(),()=>{e=!1}},[]);let L=async()=>{if(!P.name.trim())return void o.toast.error("Category name is required");let e=S?await h(S.id,P):await p(P);e.success?(o.toast.success(S?"Category updated successfully":"Category created successfully"),U(),N(!1),T(null),F({name:""})):o.toast.error(e.error||"Failed to save category")},k=async()=>{if(!D)return;let e=await x(D.id);e.success?(o.toast.success("Category deleted successfully"),U(),A(!1),R(null)):o.toast.error(e.error||"Failed to delete category")},B=()=>{T(null),F({name:""}),N(!0)};return(0,a.jsxs)(s.Card,{children:[(0,a.jsx)(s.CardHeader,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(s.CardTitle,{children:"Categories"}),(0,a.jsx)(s.CardDescription,{children:"Manage product and inventory categories."})]}),(0,a.jsxs)(n.Button,{onClick:B,children:[(0,a.jsx)(i.Plus,{className:"mr-2 h-4 w-4"}),"Add Category"]})]})}),(0,a.jsx)(s.CardContent,{children:v?(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading categories..."})}):0===e.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:"No categories found."}),(0,a.jsxs)(n.Button,{onClick:B,children:[(0,a.jsx)(i.Plus,{className:"mr-2 h-4 w-4"}),"Add Your First Category"]})]}):(0,a.jsxs)(j.Table,{children:[(0,a.jsx)(j.TableHeader,{children:(0,a.jsxs)(j.TableRow,{children:[(0,a.jsx)(j.TableHead,{children:"Name"}),(0,a.jsx)(j.TableHead,{children:"Status"}),(0,a.jsx)(j.TableHead,{className:"text-right",children:"Actions"})]})}),(0,a.jsx)(j.TableBody,{children:e.map(e=>(0,a.jsxs)(j.TableRow,{children:[(0,a.jsx)(j.TableCell,{className:"font-medium capitalize",children:e.name}),(0,a.jsx)(j.TableCell,{children:(0,a.jsx)(f.Badge,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"})}),(0,a.jsx)(j.TableCell,{className:"text-right",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>{T(e),F({name:e.name}),N(!0)},children:(0,a.jsx)(c.Pencil,{className:"h-4 w-4"})}),(0,a.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>{R(e),A(!0)},children:(0,a.jsx)(d.Trash2,{className:"h-4 w-4 text-destructive"})})]})})]},e.id))})]})}),(0,a.jsx)(g.Dialog,{open:C,onOpenChange:N,children:(0,a.jsxs)(g.DialogContent,{children:[(0,a.jsxs)(g.DialogHeader,{children:[(0,a.jsx)(g.DialogTitle,{children:S?"Edit Category":"Add Category"}),(0,a.jsx)(g.DialogDescription,{children:S?"Update category details":"Add a new category"})]}),(0,a.jsx)("div",{className:"grid gap-4 py-4",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"category-name",children:"Category Name *"}),(0,a.jsx)(r.Input,{id:"category-name",placeholder:"e.g., medicine, supplies",value:P.name,onChange:e=>F({...P,name:e.target.value}),required:!0})]})}),(0,a.jsxs)(g.DialogFooter,{children:[(0,a.jsx)(n.Button,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),(0,a.jsx)(n.Button,{onClick:L,children:S?"Update":"Create"})]})]})}),(0,a.jsx)(y.DeleteConfirmationDialog,{open:w,onOpenChange:A,onConfirm:k,title:"Delete Category",description:"Are you sure you want to delete this category? This action cannot be undone.",itemName:D?.name})]})}e.s(["CategoriesSection",()=>v],282078)},174871,e=>{"use strict";var a=e.i(843476),t=e.i(271645),s=e.i(970065),n=e.i(167881),r=e.i(23750),l=e.i(10708),i=e.i(107233),c=e.i(788699),d=e.i(727612),o=e.i(846696),u=e.i(95187);let m=(0,u.createServerReference)("0041ac8c224b399f5d9e02b56d60662a50b61501ce",u.callServer,void 0,u.findSourceMapURL,"getAllAppointmentTypes"),p=(0,u.createServerReference)("40bfeb430cee2b690c52078fe65816a182e7016613",u.callServer,void 0,u.findSourceMapURL,"createAppointmentType"),h=(0,u.createServerReference)("60e472a4c90c0fb45db9f41ff48e0e573e4f994157",u.callServer,void 0,u.findSourceMapURL,"updateAppointmentType"),x=(0,u.createServerReference)("4092e3a5d456fc83a92e933bda8da131e0bf83566d",u.callServer,void 0,u.findSourceMapURL,"deleteAppointmentType");var f=e.i(994179),j=e.i(947627),y=e.i(133308),g=e.i(630374);function v(){let[e,u]=(0,t.useState)([]),[v,b]=(0,t.useState)(!0),[C,N]=(0,t.useState)(!1),[S,T]=(0,t.useState)(null),[w,A]=(0,t.useState)(!1),[D,R]=(0,t.useState)(null),[P,F]=(0,t.useState)({name:"",displayName:""}),U=async()=>{b(!0);let e=await m();"success"in e&&e.data?u(e.data):o.toast.error(e.error||"Failed to load appointment types"),b(!1)};(0,t.useEffect)(()=>{let e=!0;return(async()=>{let a=await m();e&&("success"in a&&a.data?u(a.data):o.toast.error(a.error||"Failed to load appointment types"),b(!1))})(),()=>{e=!1}},[]);let L=async()=>{if(!P.name.trim())return void o.toast.error("Appointment type name is required");let e=S?await h(S.id,P):await p(P);e.success?(o.toast.success(S?"Appointment type updated successfully":"Appointment type created successfully"),U(),N(!1),T(null),F({name:"",displayName:""})):o.toast.error(e.error||"Failed to save appointment type")},k=async()=>{if(!D)return;let e=await x(D.id);e.success?(o.toast.success("Appointment type deleted successfully"),U(),A(!1),R(null)):o.toast.error(e.error||"Failed to delete appointment type")};return(0,a.jsxs)(s.Card,{children:[(0,a.jsx)(s.CardHeader,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(s.CardTitle,{children:"Appointment Types"}),(0,a.jsx)(s.CardDescription,{children:"Manage appointment types used when scheduling appointments."})]}),(0,a.jsxs)(n.Button,{onClick:()=>{T(null),F({name:"",displayName:""}),N(!0)},children:[(0,a.jsx)(i.Plus,{className:"mr-2 h-4 w-4"}),"Add Type"]})]})}),(0,a.jsx)(s.CardContent,{children:v?(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading appointment types..."})}):0===e.length?(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"No appointment types found."})}):(0,a.jsxs)(j.Table,{children:[(0,a.jsx)(j.TableHeader,{children:(0,a.jsxs)(j.TableRow,{children:[(0,a.jsx)(j.TableHead,{children:"Name"}),(0,a.jsx)(j.TableHead,{children:"Display Name"}),(0,a.jsx)(j.TableHead,{children:"Status"}),(0,a.jsx)(j.TableHead,{className:"text-right",children:"Actions"})]})}),(0,a.jsx)(j.TableBody,{children:e.map(e=>(0,a.jsxs)(j.TableRow,{children:[(0,a.jsx)(j.TableCell,{className:"font-medium capitalize",children:e.name}),(0,a.jsx)(j.TableCell,{children:e.displayName||e.name}),(0,a.jsx)(j.TableCell,{children:(0,a.jsx)(f.Badge,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"})}),(0,a.jsx)(j.TableCell,{className:"text-right",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>{T(e),F({name:e.name,displayName:e.displayName||""}),N(!0)},children:(0,a.jsx)(c.Pencil,{className:"h-4 w-4"})}),(0,a.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>{R(e),A(!0)},children:(0,a.jsx)(d.Trash2,{className:"h-4 w-4 text-destructive"})})]})})]},e.id))})]})}),(0,a.jsx)(g.Dialog,{open:C,onOpenChange:N,children:(0,a.jsxs)(g.DialogContent,{children:[(0,a.jsxs)(g.DialogHeader,{children:[(0,a.jsx)(g.DialogTitle,{children:S?"Edit Appointment Type":"Add Appointment Type"}),(0,a.jsx)(g.DialogDescription,{children:S?"Update appointment type details":"Add a new appointment type"})]}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"type-name",children:"Type Name *"}),(0,a.jsx)(r.Input,{id:"type-name",placeholder:"e.g., consultation, checkup",value:P.name,onChange:e=>F({...P,name:e.target.value}),required:!0}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Short name (will be displayed in lowercase)"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"type-display",children:"Display Name"}),(0,a.jsx)(r.Input,{id:"type-display",placeholder:"e.g., Consultation, Checkup",value:P.displayName,onChange:e=>F({...P,displayName:e.target.value})}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Optional friendly display name"})]})]}),(0,a.jsxs)(g.DialogFooter,{children:[(0,a.jsx)(n.Button,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),(0,a.jsx)(n.Button,{onClick:L,children:S?"Update":"Create"})]})]})}),(0,a.jsx)(y.DeleteConfirmationDialog,{open:w,onOpenChange:A,onConfirm:k,title:"Delete Appointment Type",description:"Are you sure you want to delete this appointment type? This action cannot be undone.",itemName:D?.name})]})}e.s(["AppointmentTypesSection",()=>v],174871)},234119,e=>{"use strict";var a=e.i(843476),t=e.i(271645),s=e.i(970065),n=e.i(167881),r=e.i(23750),l=e.i(10708),i=e.i(107233),c=e.i(788699),d=e.i(727612),o=e.i(846696),u=e.i(95187);let m=(0,u.createServerReference)("00e36da0cc1863a9285dd0a186c067a98327ca22f2",u.callServer,void 0,u.findSourceMapURL,"getAllExpenseCategories"),p=(0,u.createServerReference)("404cffc46ae76ae373cb6520aca160c4bca3de1903",u.callServer,void 0,u.findSourceMapURL,"createExpenseCategory"),h=(0,u.createServerReference)("607e28b4187d701df26cd580dc3fc2297d77f22ae2",u.callServer,void 0,u.findSourceMapURL,"updateExpenseCategory"),x=(0,u.createServerReference)("40596c276ab681f20b6014b5ded8558b1bdee9fb1d",u.callServer,void 0,u.findSourceMapURL,"deleteExpenseCategory");var f=e.i(994179),j=e.i(947627),y=e.i(133308),g=e.i(630374);function v(){let[e,u]=(0,t.useState)([]),[v,b]=(0,t.useState)(!0),[C,N]=(0,t.useState)(!1),[S,T]=(0,t.useState)(null),[w,A]=(0,t.useState)(!1),[D,R]=(0,t.useState)(null),[P,F]=(0,t.useState)({name:"",displayName:""}),U=async()=>{b(!0);let e=await m();"success"in e&&e.data?u(e.data):o.toast.error(e.error||"Failed to load expense categories"),b(!1)};(0,t.useEffect)(()=>{let e=!0;return(async()=>{let a=await m();e&&("success"in a&&a.data?u(a.data):o.toast.error(a.error||"Failed to load expense categories"),b(!1))})(),()=>{e=!1}},[]);let L=async()=>{if(!P.name.trim())return void o.toast.error("Expense category name is required");let e=S?await h(S.id,P):await p(P);e.success?(o.toast.success(S?"Expense category updated successfully":"Expense category created successfully"),U(),N(!1),T(null),F({name:"",displayName:""})):o.toast.error(e.error||"Failed to save expense category")},k=async()=>{if(!D)return;let e=await x(D.id);e.success?(o.toast.success("Expense category deleted successfully"),U(),A(!1),R(null)):o.toast.error(e.error||"Failed to delete expense category")};return(0,a.jsxs)(s.Card,{children:[(0,a.jsx)(s.CardHeader,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(s.CardTitle,{children:"Expense Categories"}),(0,a.jsx)(s.CardDescription,{children:"Manage expense categories used when recording expenses."})]}),(0,a.jsxs)(n.Button,{onClick:()=>{T(null),F({name:"",displayName:""}),N(!0)},children:[(0,a.jsx)(i.Plus,{className:"mr-2 h-4 w-4"}),"Add Category"]})]})}),(0,a.jsx)(s.CardContent,{children:v?(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading expense categories..."})}):0===e.length?(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"No expense categories found."})}):(0,a.jsxs)(j.Table,{children:[(0,a.jsx)(j.TableHeader,{children:(0,a.jsxs)(j.TableRow,{children:[(0,a.jsx)(j.TableHead,{children:"Name"}),(0,a.jsx)(j.TableHead,{children:"Display Name"}),(0,a.jsx)(j.TableHead,{children:"Status"}),(0,a.jsx)(j.TableHead,{className:"text-right",children:"Actions"})]})}),(0,a.jsx)(j.TableBody,{children:e.map(e=>(0,a.jsxs)(j.TableRow,{children:[(0,a.jsx)(j.TableCell,{className:"font-medium capitalize",children:e.name}),(0,a.jsx)(j.TableCell,{children:e.displayName||e.name}),(0,a.jsx)(j.TableCell,{children:(0,a.jsx)(f.Badge,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"})}),(0,a.jsx)(j.TableCell,{className:"text-right",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>{T(e),F({name:e.name,displayName:e.displayName||""}),N(!0)},children:(0,a.jsx)(c.Pencil,{className:"h-4 w-4"})}),(0,a.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>{R(e),A(!0)},children:(0,a.jsx)(d.Trash2,{className:"h-4 w-4 text-destructive"})})]})})]},e.id))})]})}),(0,a.jsx)(g.Dialog,{open:C,onOpenChange:N,children:(0,a.jsxs)(g.DialogContent,{children:[(0,a.jsxs)(g.DialogHeader,{children:[(0,a.jsx)(g.DialogTitle,{children:S?"Edit Expense Category":"Add Expense Category"}),(0,a.jsx)(g.DialogDescription,{children:S?"Update expense category details":"Add a new expense category"})]}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"category-name",children:"Category Name *"}),(0,a.jsx)(r.Input,{id:"category-name",placeholder:"e.g., utilities, rent",value:P.name,onChange:e=>F({...P,name:e.target.value}),required:!0}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Short name (will be displayed in lowercase)"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"category-display",children:"Display Name"}),(0,a.jsx)(r.Input,{id:"category-display",placeholder:"e.g., Utilities, Rent",value:P.displayName,onChange:e=>F({...P,displayName:e.target.value})}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Optional friendly display name"})]})]}),(0,a.jsxs)(g.DialogFooter,{children:[(0,a.jsx)(n.Button,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),(0,a.jsx)(n.Button,{onClick:L,children:S?"Update":"Create"})]})]})}),(0,a.jsx)(y.DeleteConfirmationDialog,{open:w,onOpenChange:A,onConfirm:k,title:"Delete Expense Category",description:"Are you sure you want to delete this expense category? This action cannot be undone.",itemName:D?.name})]})}e.s(["ExpenseCategoriesSection",()=>v],234119)},135506,e=>{"use strict";var a=e.i(843476),t=e.i(271645),s=e.i(970065),n=e.i(167881),r=e.i(23750),l=e.i(10708),i=e.i(107233),c=e.i(788699),d=e.i(727612),o=e.i(846696),u=e.i(95187);let m=(0,u.createServerReference)("00b416c7fe00004a76b58867c7d1341d91976f48f4",u.callServer,void 0,u.findSourceMapURL,"getAllPaymentMethods"),p=(0,u.createServerReference)("401d7d6ac9fd6fae8aa03dabc5f357baf1174343eb",u.callServer,void 0,u.findSourceMapURL,"createPaymentMethod"),h=(0,u.createServerReference)("606f0dc32ffb03bbba8b3759a236222bb02ff423f5",u.callServer,void 0,u.findSourceMapURL,"updatePaymentMethod"),x=(0,u.createServerReference)("4011747fea3f97a9d45c4fc6c81c1a5c06b46123bf",u.callServer,void 0,u.findSourceMapURL,"deletePaymentMethod");var f=e.i(994179),j=e.i(947627),y=e.i(133308),g=e.i(630374);function v(){let[e,u]=(0,t.useState)([]),[v,b]=(0,t.useState)(!0),[C,N]=(0,t.useState)(!1),[S,T]=(0,t.useState)(null),[w,A]=(0,t.useState)(!1),[D,R]=(0,t.useState)(null),[P,F]=(0,t.useState)({name:"",displayName:""}),U=async()=>{b(!0);let e=await m();"success"in e&&e.data?u(e.data):o.toast.error(e.error||"Failed to load payment methods"),b(!1)};(0,t.useEffect)(()=>{let e=!0;return(async()=>{let a=await m();e&&("success"in a&&a.data?u(a.data):o.toast.error(a.error||"Failed to load payment methods"),b(!1))})(),()=>{e=!1}},[]);let L=async()=>{if(!P.name.trim())return void o.toast.error("Payment method name is required");let e=S?await h(S.id,P):await p(P);e.success?(o.toast.success(S?"Payment method updated successfully":"Payment method created successfully"),U(),N(!1),T(null),F({name:"",displayName:""})):o.toast.error(e.error||"Failed to save payment method")},k=async()=>{if(!D)return;let e=await x(D.id);e.success?(o.toast.success("Payment method deleted successfully"),U(),A(!1),R(null)):o.toast.error(e.error||"Failed to delete payment method")};return(0,a.jsxs)(s.Card,{children:[(0,a.jsx)(s.CardHeader,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(s.CardTitle,{children:"Payment Methods"}),(0,a.jsx)(s.CardDescription,{children:"Manage payment methods used throughout the application (payments, expenses, etc.)."})]}),(0,a.jsxs)(n.Button,{onClick:()=>{T(null),F({name:"",displayName:""}),N(!0)},children:[(0,a.jsx)(i.Plus,{className:"mr-2 h-4 w-4"}),"Add Method"]})]})}),(0,a.jsx)(s.CardContent,{children:v?(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading payment methods..."})}):0===e.length?(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"No payment methods found."})}):(0,a.jsxs)(j.Table,{children:[(0,a.jsx)(j.TableHeader,{children:(0,a.jsxs)(j.TableRow,{children:[(0,a.jsx)(j.TableHead,{children:"Name"}),(0,a.jsx)(j.TableHead,{children:"Display Name"}),(0,a.jsx)(j.TableHead,{children:"Status"}),(0,a.jsx)(j.TableHead,{className:"text-right",children:"Actions"})]})}),(0,a.jsx)(j.TableBody,{children:e.map(e=>(0,a.jsxs)(j.TableRow,{children:[(0,a.jsx)(j.TableCell,{className:"font-medium capitalize",children:e.name.replace("_"," ")}),(0,a.jsx)(j.TableCell,{children:e.displayName||e.name.replace("_"," ")}),(0,a.jsx)(j.TableCell,{children:(0,a.jsx)(f.Badge,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"})}),(0,a.jsx)(j.TableCell,{className:"text-right",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>{T(e),F({name:e.name,displayName:e.displayName||""}),N(!0)},children:(0,a.jsx)(c.Pencil,{className:"h-4 w-4"})}),(0,a.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>{R(e),A(!0)},children:(0,a.jsx)(d.Trash2,{className:"h-4 w-4 text-destructive"})})]})})]},e.id))})]})}),(0,a.jsx)(g.Dialog,{open:C,onOpenChange:N,children:(0,a.jsxs)(g.DialogContent,{children:[(0,a.jsxs)(g.DialogHeader,{children:[(0,a.jsx)(g.DialogTitle,{children:S?"Edit Payment Method":"Add Payment Method"}),(0,a.jsx)(g.DialogDescription,{children:S?"Update payment method details":"Add a new payment method"})]}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"method-name",children:"Method Name *"}),(0,a.jsx)(r.Input,{id:"method-name",placeholder:"e.g., cash, momo, bank_transfer",value:P.name,onChange:e=>F({...P,name:e.target.value}),required:!0}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Short name (will be displayed in lowercase)"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"method-display",children:"Display Name"}),(0,a.jsx)(r.Input,{id:"method-display",placeholder:"e.g., Cash, MoMo, Bank Transfer",value:P.displayName,onChange:e=>F({...P,displayName:e.target.value})}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Optional friendly display name"})]})]}),(0,a.jsxs)(g.DialogFooter,{children:[(0,a.jsx)(n.Button,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),(0,a.jsx)(n.Button,{onClick:L,children:S?"Update":"Create"})]})]})}),(0,a.jsx)(y.DeleteConfirmationDialog,{open:w,onOpenChange:A,onConfirm:k,title:"Delete Payment Method",description:"Are you sure you want to delete this payment method? This action cannot be undone.",itemName:D?.name})]})}e.s(["PaymentMethodsSection",()=>v],135506)},114662,e=>{"use strict";var a=e.i(843476),t=e.i(271645),s=e.i(970065),n=e.i(167881),r=e.i(23750),l=e.i(10708),i=e.i(107233),c=e.i(788699),d=e.i(727612),o=e.i(846696),u=e.i(95187);let m=(0,u.createServerReference)("00c726e730062fb356a78814ba3a02271fa753bc62",u.callServer,void 0,u.findSourceMapURL,"getAllTreatmentTypes"),p=(0,u.createServerReference)("40754024e647620bbd6ccf3e56d3ddbb3143f985da",u.callServer,void 0,u.findSourceMapURL,"createTreatmentType"),h=(0,u.createServerReference)("6058bb351705e86c89f6099a115f2e82a43f9ea3cc",u.callServer,void 0,u.findSourceMapURL,"updateTreatmentType"),x=(0,u.createServerReference)("405db25d63d1a8c24871d1f4ee80e863b758bf7273",u.callServer,void 0,u.findSourceMapURL,"deleteTreatmentType");var f=e.i(994179),j=e.i(947627),y=e.i(133308),g=e.i(630374);function v(){let[e,u]=(0,t.useState)([]),[v,b]=(0,t.useState)(!0),[C,N]=(0,t.useState)(!1),[S,T]=(0,t.useState)(null),[w,A]=(0,t.useState)(!1),[D,R]=(0,t.useState)(null),[P,F]=(0,t.useState)({name:"",displayName:""}),U=async()=>{b(!0);let e=await m();"success"in e&&e.data?u(e.data):o.toast.error(e.error||"Failed to load treatment types"),b(!1)};(0,t.useEffect)(()=>{let e=!0;return(async()=>{let a=await m();e&&("success"in a&&a.data?u(a.data):o.toast.error(a.error||"Failed to load treatment types"),b(!1))})(),()=>{e=!1}},[]);let L=async()=>{if(!P.name.trim())return void o.toast.error("Treatment type name is required");let e=S?await h(S.id,P):await p(P);e.success?(o.toast.success(S?"Treatment type updated successfully":"Treatment type created successfully"),U(),N(!1),T(null),F({name:"",displayName:""})):o.toast.error(e.error||"Failed to save treatment type")},k=async()=>{if(!D)return;let e=await x(D.id);e.success?(o.toast.success("Treatment type deleted successfully"),U(),A(!1),R(null)):o.toast.error(e.error||"Failed to delete treatment type")};return(0,a.jsxs)(s.Card,{children:[(0,a.jsx)(s.CardHeader,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(s.CardTitle,{children:"Treatment Types"}),(0,a.jsx)(s.CardDescription,{children:"Manage treatment types used in the clinic."})]}),(0,a.jsxs)(n.Button,{onClick:()=>{T(null),F({name:"",displayName:""}),N(!0)},children:[(0,a.jsx)(i.Plus,{className:"mr-2 h-4 w-4"}),"Add Type"]})]})}),(0,a.jsx)(s.CardContent,{children:v?(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading treatment types..."})}):0===e.length?(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"No treatment types found."})}):(0,a.jsxs)(j.Table,{children:[(0,a.jsx)(j.TableHeader,{children:(0,a.jsxs)(j.TableRow,{children:[(0,a.jsx)(j.TableHead,{children:"Name"}),(0,a.jsx)(j.TableHead,{children:"Display Name"}),(0,a.jsx)(j.TableHead,{children:"Status"}),(0,a.jsx)(j.TableHead,{className:"text-right",children:"Actions"})]})}),(0,a.jsx)(j.TableBody,{children:e.map(e=>(0,a.jsxs)(j.TableRow,{children:[(0,a.jsx)(j.TableCell,{className:"font-medium capitalize",children:e.name}),(0,a.jsx)(j.TableCell,{children:e.displayName||e.name}),(0,a.jsx)(j.TableCell,{children:(0,a.jsx)(f.Badge,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"})}),(0,a.jsx)(j.TableCell,{className:"text-right",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>{T(e),F({name:e.name,displayName:e.displayName||""}),N(!0)},children:(0,a.jsx)(c.Pencil,{className:"h-4 w-4"})}),(0,a.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>{R(e),A(!0)},children:(0,a.jsx)(d.Trash2,{className:"h-4 w-4 text-destructive"})})]})})]},e.id))})]})}),(0,a.jsx)(g.Dialog,{open:C,onOpenChange:N,children:(0,a.jsxs)(g.DialogContent,{children:[(0,a.jsxs)(g.DialogHeader,{children:[(0,a.jsx)(g.DialogTitle,{children:S?"Edit Treatment Type":"Add Treatment Type"}),(0,a.jsx)(g.DialogDescription,{children:S?"Update treatment type details":"Add a new treatment type"})]}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"type-name",children:"Type Name *"}),(0,a.jsx)(r.Input,{id:"type-name",placeholder:"e.g., root canal therapy, scaling and polishing",value:P.name,onChange:e=>F({...P,name:e.target.value}),required:!0}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Short name (will be displayed in lowercase)"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"type-display",children:"Display Name"}),(0,a.jsx)(r.Input,{id:"type-display",placeholder:"e.g., Root Canal Therapy, Scaling and Polishing",value:P.displayName,onChange:e=>F({...P,displayName:e.target.value})}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Optional friendly display name"})]})]}),(0,a.jsxs)(g.DialogFooter,{children:[(0,a.jsx)(n.Button,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),(0,a.jsx)(n.Button,{onClick:L,children:S?"Update":"Create"})]})]})}),(0,a.jsx)(y.DeleteConfirmationDialog,{open:w,onOpenChange:A,onConfirm:k,title:"Delete Treatment Type",description:"Are you sure you want to delete this treatment type? This action cannot be undone.",itemName:D?.name})]})}e.s(["TreatmentTypesSection",()=>v],114662)},554199,e=>{"use strict";var a=e.i(843476),t=e.i(271645),s=e.i(970065),n=e.i(167881),r=e.i(947627),l=e.i(95187);let i=(0,l.createServerReference)("005c706818f82b2c8824aa8bc2dda053be86bb4112",l.callServer,void 0,l.findSourceMapURL,"getManageableTables"),c=(0,l.createServerReference)("400322f8e593b799ab4fb4e53ad75d5acc94c35257",l.callServer,void 0,l.findSourceMapURL,"clearTable"),d=(0,l.createServerReference)("00bebadf10953915a1a9e2bcae22d15d3aa0e08551",l.callServer,void 0,l.findSourceMapURL,"clearAllBusinessData");var o=e.i(473914),u=e.i(846696),m=e.i(531278),p=e.i(440160),h=e.i(569074),x=e.i(727612),f=e.i(878894),j=e.i(630374),y=e.i(10708),g=e.i(23750);let v=(0,l.createServerReference)("607822d1a2b393d40c30d39bd448f26f3a901e498b",l.callServer,void 0,l.findSourceMapURL,"importTableData");var b=e.i(178583);function C({open:e,onOpenChange:s,tableName:r,onSuccess:l}){let[i,c]=(0,t.useState)(null),[d,o]=(0,t.useState)(!1),p=async()=>{if(!i)return void u.toast.error("Please select a file");o(!0);try{let e=await i.text(),a=await v(r,e);a.success?(u.toast.success(`Successfully imported ${a.count} records`),c(null),s(!1),l()):u.toast.error(a.error||"Import failed")}catch(e){u.toast.error("Failed to read file")}finally{o(!1)}};return(0,a.jsx)(j.Dialog,{open:e,onOpenChange:s,children:(0,a.jsxs)(j.DialogContent,{children:[(0,a.jsxs)(j.DialogHeader,{children:[(0,a.jsxs)(j.DialogTitle,{children:["Upload CSV for ",r.replace(/_/g," ")]}),(0,a.jsx)(j.DialogDescription,{children:"Select a CSV file to import. Ensure the headers match the template."})]}),(0,a.jsxs)("div",{className:"grid w-full max-w-sm items-center gap-4 py-4",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(y.Label,{htmlFor:"csv-file",children:"CSV File"}),(0,a.jsx)(g.Input,{id:"csv-file",type:"file",accept:".csv",onChange:e=>{e.target.files&&e.target.files[0]&&c(e.target.files[0])}})]}),i&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground bg-muted p-2 rounded",children:[(0,a.jsx)(b.FileText,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"truncate",children:i.name})]})]}),(0,a.jsxs)(j.DialogFooter,{children:[(0,a.jsx)(n.Button,{variant:"outline",onClick:()=>s(!1),disabled:d,children:"Cancel"}),(0,a.jsx)(n.Button,{onClick:p,disabled:!i||d,children:d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Importing..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.Upload,{className:"mr-2 h-4 w-4"}),"Import"]})})]})]})})}var N=e.i(133308);function S(){let[e,l]=(0,t.useState)([]),[j,y]=(0,t.useState)(!0),[g,v]=(0,t.useState)(!1),[b,S]=(0,t.useState)(null),[T,w]=(0,t.useState)(!1),[A,D]=(0,t.useState)(null),[R,P]=(0,t.useState)(!1),[F,U]=(0,t.useState)(!1),L=async()=>{y(!0);let e=await i();e.success&&e.data?l(e.data):u.toast.error(e.error||"Failed to load tables"),y(!1)};(0,t.useEffect)(()=>{L()},[]);let k=async e=>{let a=await (0,o.getTableTemplate)(e);if(a.success&&a.data){let t=new Blob([a.data],{type:"text/csv"}),s=window.URL.createObjectURL(t),n=document.createElement("a");n.href=s,n.download=`${e}_template.csv`,document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(s),document.body.removeChild(n),u.toast.success("Template downloaded")}else u.toast.error(a.error||"Failed to generate template")},B=async()=>{if(!A)return;let e=await c(A);e.success?(u.toast.success(`Table ${A} cleared`),w(!1),D(null)):u.toast.error(e.error||"Failed to clear table")},I=async()=>{U(!0);let e=await d();e.success?(u.toast.success("All business data cleared successfully"),P(!1)):u.toast.error(e.error||"Failed to clear all data"),U(!1)};return(0,a.jsxs)(s.Card,{children:[(0,a.jsx)(s.CardHeader,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(s.CardTitle,{children:"Database Management"}),(0,a.jsx)(s.CardDescription,{children:"Manage database content, import data, and clear tables."})]}),(0,a.jsxs)(n.Button,{variant:"destructive",onClick:()=>P(!0),className:"gap-2",children:[(0,a.jsx)(f.AlertTriangle,{className:"h-4 w-4"}),"Clear All Business Data"]})]})}),(0,a.jsx)(s.CardContent,{children:j?(0,a.jsx)("div",{className:"flex justify-center py-8",children:(0,a.jsx)(m.Loader2,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):(0,a.jsxs)(r.Table,{children:[(0,a.jsx)(r.TableHeader,{children:(0,a.jsxs)(r.TableRow,{children:[(0,a.jsx)(r.TableHead,{children:"Table Name"}),(0,a.jsx)(r.TableHead,{className:"text-right",children:"Actions"})]})}),(0,a.jsx)(r.TableBody,{children:e.map(e=>(0,a.jsxs)(r.TableRow,{children:[(0,a.jsx)(r.TableCell,{className:"font-medium capitalize",children:e.replace(/_/g," ")}),(0,a.jsx)(r.TableCell,{className:"text-right",children:(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsxs)(n.Button,{variant:"outline",size:"sm",onClick:()=>k(e),title:"Download Template",children:[(0,a.jsx)(p.Download,{className:"h-4 w-4 mr-2"}),"Template"]}),(0,a.jsxs)(n.Button,{variant:"outline",size:"sm",onClick:()=>{S(e),v(!0)},title:"Upload CSV",children:[(0,a.jsx)(h.Upload,{className:"h-4 w-4 mr-2"}),"Upload"]}),(0,a.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>{D(e),w(!0)},className:"text-destructive hover:text-destructive hover:bg-destructive/10",title:"Clear Table",children:(0,a.jsx)(x.Trash2,{className:"h-4 w-4"})})]})})]},e))})]})}),b&&(0,a.jsx)(C,{open:g,onOpenChange:v,tableName:b,onSuccess:()=>{}}),(0,a.jsx)(N.DeleteConfirmationDialog,{open:T,onOpenChange:w,onConfirm:B,title:`Clear Table: ${A}`,description:`Are you sure you want to delete ALL records from the ${A} table? This action cannot be undone.`,itemName:A||"table",isLoading:!1}),(0,a.jsx)(N.DeleteConfirmationDialog,{open:R,onOpenChange:P,onConfirm:I,title:"Clear All Business Data",description:"WARNING: This will delete ALL business data including patients, appointments, payments, records, etc. Authentication and Admin accounts will be preserved. This action CANNOT BE UNDONE.",itemName:"ALL BUSINESS DATA",isLoading:F})]})}e.s(["DatabaseManagementSection",()=>S],554199)}]);